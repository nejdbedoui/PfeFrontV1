<nb-card>
    <nb-card-header>
        <div class="row">
            <div class="col-md-6"><span style="font-size: 20px;">Ajouter Action Marketing</span></div>
        </div>
    </nb-card-header>
    <nb-card-body>
        <form [formGroup]="ActionForm" (ngSubmit)="test()">
<div name="Categorie">

    <div class="form-group">
        <nb-select placeholder="Secteur d'activité" fullWidth formControlName="SecteurActivite">
            <nb-option *ngFor="let sctor of sectors"  [value]="sctor.idCategorie">{{sctor.libelle}}</nb-option>

        </nb-select> <input *ngIf="categorie=='Autre'"  type="text" nbInput placeholder="Libellé Categorie">
        <label *ngIf=" isSubmitted && (formControls.SecteurActivite.errors )" class="label-has-error">
            <i class="fas fa-exclamation-circle"></i> Veuillez Saisir le Secteur </label>
</div>
    </div>       
        
    <p-selectButton [options]="optionCanalDiffusion" formControlName="CanalDiffusion" optionLabel="label" optionValue="value">
    </p-selectButton>
    <label *ngIf=" isSubmitted && (formControls.CanalDiffusion.errors )" class="label-has-error">
        <i class="fas fa-exclamation-circle"></i> Veuillez Choisir une Canale </label>
        <br>
        <input type="text" nbInput placeholder="Lien "  formControlName="LienPub">
        <label *ngIf=" isSubmitted && (formControls.LienPub.errors )" class="label-has-error">
            <i class="fas fa-exclamation-circle"></i> Veuillez Saisir le Lien du pub </label>
        <br>



      <textarea fieldSize="medium" nbInput formControlName="Description" placeholder="Description de votre Action Marketing"></textarea>

      

      <br>
        
      <input nbInput placeholder="Pick Date" formControlName="dateDebutPub"  >
      <nb-datepicker #datedeb ></nb-datepicker>
      <label *ngIf=" isSubmitted && (formControls.dateDebutPub.errors )" class="label-has-error">
        <i class="fas fa-exclamation-circle"></i> Veuillez Saisir la date du debut </label>

      <input nbInput placeholder="Form Picker" formControlName="dateFinPub">
      <nb-datepicker #datefn ></nb-datepicker>
      <label *ngIf=" isSubmitted && (formControls.dateFinPub.errors )" class="label-has-error">
        <i class="fas fa-exclamation-circle"></i> Veuillez Saisir la date fin </label>
   <br>
    
<div *ngIf="ActionForm.value.CanalDiffusion==optionCanalDiffusion[1]">
    <textarea nbInput placeholder="Votre SMS d'envoie"  formControlName="SMSBody"></textarea>
    <label *ngIf=" isSubmitted && (formControls.SMSBody.errors )" class="label-has-error">
        <i class="fas fa-exclamation-circle"></i> Veuillez Saisir la contenue du sms </label>

</div>


<div *ngIf="ActionForm.value.CanalDiffusion!=optionCanalDiffusion[1]">
    <ng-container *ngFor="let choice of checks; let i=index">
    <nb-checkbox (change)="onCheckChange($event,i)" [value]="choice.value">{{choice.Libelle}}</nb-checkbox>
</ng-container>
    <br>

        <p-selectButton [options]="optionContenue" formControlName="TypeContenue" optionLabel="label" optionValue="value">
        </p-selectButton>
        <div class="upload" *ngIf="contenue==optionContenue[0]">
            <h5>choisissez votre image</h5>
            <p-fileUpload chooseLabel="Choisir image" name="demo1" [fileLimit]="1" [showUploadButton]="true"
                (onSelect)="onUpload($event)" multiple="multiple" accept="image/*" maxFileSize="1000000">
            </p-fileUpload>
        </div>

        <div *ngIf="contenue==optionContenue[1]">
            <h5>choisissez votre Video</h5>
            <p-fileUpload chooseLabel="Choisir video" styleClass="upload" name="demo2" [fileLimit]="1"
                [showUploadButton]="false" (onSelect)="onUpload($event)" multiple="multiple" accept="video/*"
                maxFileSize="100000000">
            </p-fileUpload>
        </div>
    </div>


    <button  type="submit"   nbButton status="success" class="button-style"  style="float: right;" [shape]="'round'">Enregistrer</button>


<button (click)="test()"  type="button" >TEST NA</button>
</form>

   <!--  
    <div class="smartphone" *ngIf="CanalDiffusion!=optionCanalDiffusion[1] && CanalDiffusion!=optionCanalDiffusion[2]">
      <div class="content">
        <div *ngIf="notification" class="notification" ></div>
        <div *ngIf="popup && (notification || banner)"  class="popup1"></div>
        <div *ngIf="popup && !notification && !banner"  class="popup2"></div>
        <div *ngIf="banner && !notification "  class="banner2"></div>
        <div *ngIf="banner && notification "  class="banner"></div>
      </div>
    </div><br> -->
